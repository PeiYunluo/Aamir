(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e2764"],{"7f98":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{height:"100vh"},attrs:{type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{xl:8,md:12,sm:20,xs:24}},[a("div",{staticClass:"card-container"},[a("el-card",{staticStyle:{"box-shadow":"0px 10px 20px 0px rgba(236, 236, 236, 0.86)"},attrs:{title:"Halo 安装向导"}},[a("el-steps",{attrs:{active:e.stepCurrent}},[a("el-step",{attrs:{title:"博主信息"}}),e._v(" "),a("el-step",{attrs:{title:"博客信息"}}),e._v(" "),a("el-step",{attrs:{title:"默认选项设置"}})],1),e._v(" "),a("el-divider",{attrs:{dashed:""}}),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:0==e.stepCurrent,expression:"stepCurrent == 0"}],attrs:{layout:"horizontal",form:e.bloggerForm}},[a("el-form-item",{staticClass:"animated fadeInUp"},[a("el-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",{rules:[{required:!0,message:"请输入用户名"}]}],expression:"[\n                  'username',\n                  {rules: [{ required: true, message: '请输入用户名' }]}\n                ]"}],attrs:{placeholder:"用户名"},model:{value:e.installation.username,callback:function(t){e.$set(e.installation,"username",t)},expression:"installation.username"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.1s"}},[a("el-input",{attrs:{placeholder:"用户昵称"},model:{value:e.installation.nickname,callback:function(t){e.$set(e.installation,"nickname",t)},expression:"installation.nickname"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.1s"}},[a("el-input",{attrs:{placeholder:"用户描述"},model:{value:e.installation.description,callback:function(t){e.$set(e.installation,"description",t)},expression:"installation.description"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.2s"}},[a("el-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"请输入邮箱"}]}],expression:"[\n                  'email',\n                  {rules: [{ required: true, message: '请输入邮箱' }]}\n                ]"}],attrs:{placeholder:"用户邮箱"},model:{value:e.installation.email,callback:function(t){e.$set(e.installation,"email",t)},expression:"installation.email"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"mail"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.3s"}},[a("el-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码（8-100位）"}]}],expression:"[\n                  'password',\n                  {rules: [{ required: true, message: '请输入密码（8-100位）' }]}\n                ]"}],attrs:{type:"password",placeholder:"用户密码（8-100位）"},model:{value:e.installation.password,callback:function(t){e.$set(e.installation,"password",t)},expression:"installation.password"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.4s"}},[a("el-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmPassword",{rules:[{required:!0,message:"请确定密码"}]}],expression:"[\n                  'confirmPassword',\n                  {rules: [{ required: true, message: '请确定密码' }]}\n                ]"}],attrs:{type:"password",placeholder:"确定密码"},model:{value:e.installation.confirmPassword,callback:function(t){e.$set(e.installation,"confirmPassword",t)},expression:"installation.confirmPassword"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1)],1),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:1==e.stepCurrent,expression:"stepCurrent == 1"}],attrs:{layout:"horizontal"}},[a("el-form-item",{staticClass:"animated fadeInUp"},[a("el-input",{attrs:{placeholder:"博客地址"},model:{value:e.installation.url,callback:function(t){e.$set(e.installation,"url",t)},expression:"installation.url"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"link"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{staticClass:"animated fadeInUp",style:{"animation-delay":"0.2s"}},[a("el-input",{attrs:{placeholder:"博客标题"},model:{value:e.installation.title,callback:function(t){e.$set(e.installation,"title",t)},expression:"installation.title"}},[a("el-icon",{staticStyle:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"book"},slot:"prefix"})],1)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2==e.stepCurrent,expression:"stepCurrent == 2"}]},[a("el-alert",{staticClass:"animated fadeInUp",staticStyle:{"margin-bottom":"1rem"},attrs:{message:"如果有迁移需求，请点击并选择'迁移文件'",type:"info"}})],1),e._v(" "),a("el-row",{staticClass:"install-action",staticStyle:{"margin-top":"1rem"},attrs:{type:"flex",justify:"space-between"}},[a("div",[0!=e.stepCurrent?a("el-button",{staticClass:"previus-button",staticStyle:{"margin-right":"1rem"},on:{click:function(t){e.stepCurrent--}}},[e._v("上一步")]):e._e(),e._v(" "),2!=e.stepCurrent?a("el-button",{attrs:{type:"primary"},on:{click:e.handleNextStep}},[e._v("下一步")]):e._e()],1),e._v(" "),2==e.stepCurrent?a("el-button",{attrs:{type:"danger",icon:"upload"},on:{click:e.handleInstall}},[e._v("安装")]):e._e()],1)],1)],1)])],1)],1)},l=[],i=a("b775");function r(e){return Object(i["a"])({url:"/user/install",method:"post",data:e})}var n={data:function(){return{installation:{},migrationUploadName:"file",migrationData:null,stepCurrent:0,bloggerForm:this.$form.createForm(this)}},created:function(){},methods:{handleNextStep:function(e){var t=this;e.preventDefault(),this.bloggerForm.validateFields((function(e,a){console.log("error",e),console.log("Received values of form: ",a),null!=e||t.stepCurrent++}))},install:function(){var e=this;r(this.installation).then((function(t){console.log(t),400===t.data.resultCode?e.$message.error("BadRequest"):e.$message.success("安装成功！"),setTimeout((function(){e.$router.push({name:"login"})}),300)}))},handleInstall:function(){var e=this.installation.password,t=this.installation.confirmPassword;e===t?this.migrationData||this.install():this.$message.error("确认密码和密码不匹配")}}},o=n,c=a("623f"),p=Object(c["a"])(o,s,l,!1,null,null,null);t["default"]=p.exports}}]);